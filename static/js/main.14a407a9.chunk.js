(this["webpackJsonpsmileapp-site-react"]=this["webpackJsonpsmileapp-site-react"]||[]).push([[0],{219:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"auth",(function(){return y})),n.d(r,"common",(function(){return C})),n.d(r,"devices",(function(){return S})),n.d(r,"messenger",(function(){return A}));var a=n(19),c=n.n(a),s=n(25),o=n(13),i=n.n(o),u=n(156),l=n(12),d=n(50),j=(n(187),n(15)),b=n(28),f="APP_INIT",m="LOADER_TOGGLE",O="MESSAGE_SHOW",h="MESSAGE_HIDE",p="MESSAGE_SET_LIST",x=function(e){return{type:m,payload:e}},v=function(e){var t=e.severity,n=void 0===t?"info":t,r=e.title,a=void 0===r?null:r,c=e.message,s=void 0===c?null:c,o=e.lifeTime;return{type:O,payload:{severity:n,title:a,message:s,lifeTime:void 0===o?1500:o}}},g=function(e){return{type:p,payload:e}},w=function(e){return e.app.isLoading},k=function(e){return e.app.messages},y={login:"\u041b\u043e\u0433\u0438\u043d",email:"Email",password:"\u041f\u0430\u0440\u043e\u043b\u044c",rememberMe:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c",submit:"\u0412\u043e\u0439\u0442\u0438",message:{wrongLoginOrPassword:"\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c."}},C={message:{unknown:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}},S={title:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",pin:"\u041f\u0438\u043d-\u043a\u043e\u0434",showPin:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0438\u043d-\u043a\u043e\u0434 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432?",status:"\u0421\u0442\u0430\u0442\u0443\u0441",enabled:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e",disabled:"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e",addDevice:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e",deviceName:"\u0418\u043c\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",button:{add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"},message:{success:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u043e."}},A={success:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e.",error:"\u041e\u0448\u0438\u0431\u043a\u0430!",warning:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!",info:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f."};function T(e){var t=r[e]||{};return function(e){var n=e.split(".",2);if(1===n.length)return t[e]||e;try{return t[n[0]][n[1]]}catch(r){return e}}}var I=function(e){return T(e)},E=i.a.mark(q),D=i.a.mark(B),L=i.a.mark(P),M=i.a.mark(G),_=i.a.mark(R),N=i.a.mark(U),F=i.a.mark($),H=0;function q(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=T("common"),t.prev=1,t.next=9;break;case 4:return t.prev=4,t.t0=t.catch(1),console.error("workerAppInit",t.t0),t.next=9,Object(l.c)(v({severity:"error",message:e("message.unknown"),lifeTime:3e3}));case 9:case"end":return t.stop()}}),E,null,[[1,4]])}function B(e){var t,n;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(l.d)(k);case 3:return n=r.sent,r.next=6,Object(l.c)(g([].concat(Object(b.a)(n),[Object(j.a)({id:H++},t)])));case 6:case"end":return r.stop()}}),D)}function P(e){var t,n,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(l.d)(k);case 3:return n=a.sent,r=n.filter((function(e){return e.id!==t})),a.next=7,Object(l.c)(g(r));case 7:case"end":return a.stop()}}),L)}function G(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.f)(f,q);case 2:case"end":return e.stop()}}),M)}function R(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.e)(O,B);case 2:case"end":return e.stop()}}),_)}function U(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.e)(h,P);case 2:case"end":return e.stop()}}),N)}function $(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([G(),R(),U()]);case 2:case"end":return e.stop()}}),F)}var z,W,V,J=n(30),Q="AUTH_SIGN_IN",Z="AUTH_SIGN_OUT",K="AUTH_LOGIN",X="AUTH_LOGOUT",Y="AUTH_REFRESH_TOKEN",ee=function(e){var t=e.user,n=e.token;return{type:K,payload:{user:t,token:n}}},te=n(62),ne=n(51),re=function(){return new ne.GraphQLClient("https://api.smileapp.kz/graphql",{headers:ae()})};function ae(){return localStorage.getItem("token")?{Authorization:"Bearer ".concat(localStorage.getItem("token"))}:{}}function ce(e){var t=e.email,n=e.password,r=e.remember,a={email:t,password:n,remember:void 0!==r&&r},c=Object(ne.gql)(z||(z=Object(te.a)(["mutation (\n        $email: String!,\n        $password: String!,\n        $remember: Boolean,\n    ){\n        authLogin(\n            email: $email,\n            password: $password,\n            remember: $remember\n        ){\n            id\n            token\n        }\n    }"])));return re().request(c,a).then((function(e){return e})).catch((function(e){return console.error("loginRequest",e)}))}function se(){var e=Object(ne.gql)(W||(W=Object(te.a)(["mutation {\n        authLogout {\n            id\n        }\n    }"])));return re().request(e).then((function(e){return e})).catch((function(e){return console.error("logoutRequest",e)}))}function oe(){var e=Object(ne.gql)(V||(V=Object(te.a)(["mutation {\n        authRefreshToken\n    }"])));return re().request(e).then((function(e){return e})).catch((function(e){return console.error("refreshTokenRequest",e)}))}var ie=function(e){return e.auth.user||null},ue=function(e){return e.auth.token||null},le=i.a.mark(pe),de=i.a.mark(xe),je=i.a.mark(ve),be=i.a.mark(ge),fe=i.a.mark(we),me=i.a.mark(ke),Oe=i.a.mark(ye),he=T("auth");function pe(e){var t,n,r,a,c;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(l.c)(x(!0));case 3:return s.prev=3,s.next=6,Object(l.b)(ce,t);case 6:if(null===(n=s.sent).authLogin){s.next=14;break}return r=n.authLogin,a=r.token,c=Object(J.a)(r,["token"]),localStorage.setItem("token",a),s.next=12,Object(l.c)(ee({user:c,token:a}));case 12:s.next=16;break;case 14:return s.next=16,Object(l.c)(v({severity:"error",message:he("message.wrongLoginOrPassword"),lifeTime:3e3}));case 16:s.next=23;break;case 18:return s.prev=18,s.t0=s.catch(3),s.next=22,Object(l.c)(v({severity:"error",message:T("common")("message.unknown"),lifeTime:3e3}));case 22:console.error("workerAuthRequest",s.t0);case 23:return s.next=25,Object(l.c)(x(!1));case 25:case"end":return s.stop()}}),le,null,[[3,18]])}function xe(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.b)(se);case 3:return localStorage.removeItem("token"),e.next=6,Object(l.c)({type:X});case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(l.c)(v({severity:"error",message:T("common")("message.unknown"),lifeTime:3e3}));case 12:console.error("workerAuthLogout",e.t0);case 13:case"end":return e.stop()}}),de,null,[[0,8]])}function ve(){var e,t,n;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(l.d)(ie);case 3:return e=r.sent,r.next=6,Object(l.b)(oe);case 6:return t=r.sent,n=t.authRefreshToken,localStorage.setItem("token",n),r.next=11,Object(l.c)(ee({user:e,token:n}));case 11:r.next=18;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(l.c)(v({severity:"error",message:T("common")("message.unknown"),lifeTime:3e3}));case 17:console.error("workerAuthRefresh",r.t0);case 18:case"end":return r.stop()}}),je,null,[[0,13]])}function ge(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.f)(Q,pe);case 2:case"end":return e.stop()}}),be)}function we(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.f)(Z,xe);case 2:case"end":return e.stop()}}),fe)}function ke(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.f)(Y,ve);case 2:case"end":return e.stop()}}),me)}function ye(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([ge(),we(),ke()]);case 2:case"end":return e.stop()}}),Oe)}var Ce,Se,Ae="DEVICE_REQUEST_LIST",Te="DEVICE_SET_LIST",Ie="DEVICE_ADD",Ee=function(e){return{type:Te,payload:e}},De=function(e){return e.device.list};function Le(){var e=Object(ne.gql)(Ce||(Ce=Object(te.a)(["query {\n        devices {\n            id\n            name\n            pin\n            enabled\n        }\n    }"])));return re().request(e).then((function(e){return e})).catch((function(e){return console.error("getDeviceListRequest",e)}))}function Me(e){var t=e.name,n=Object(ne.gql)(Se||(Se=Object(te.a)(["mutation (\n        $name: String!,\n    ){\n        deviceCreate(\n            name: $name\n        ){\n            id\n            name\n            pin\n            enabled\n        }\n    }"])));return re().request(n,{name:t}).then((function(e){return e})).catch((function(e){return console.error("addDeviceRequest",e)}))}var _e=i.a.mark(Pe),Ne=i.a.mark(Ge),Fe=i.a.mark(Re),He=i.a.mark(Ue),qe=i.a.mark($e),Be=T("devices");function Pe(){var e,t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.c)(x(!0));case 2:return n.prev=2,n.next=5,Object(l.b)(Le);case 5:return e=n.sent,t=e.devices,n.next=9,Object(l.c)(Ee(t));case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(2),console.error("workerDeviceInit",n.t0),n.next=16,Object(l.c)(v({severity:"error",message:T("common")("message.unknown"),lifeTime:3e3}));case 16:return n.next=18,Object(l.c)(x(!1));case 18:case"end":return n.stop()}}),_e,null,[[2,11]])}function Ge(e){var t,n,r,a;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(l.c)(x(!0));case 3:return c.prev=3,c.next=6,Object(l.b)(Me,{name:t});case 6:return n=c.sent,r=n.deviceCreate,c.next=10,Object(l.d)(De);case 10:return a=c.sent,c.next=13,Object(l.c)(Ee([].concat(Object(b.a)(a),[r])));case 13:return c.next=15,Object(l.c)(v({severity:"success",message:Be("message.success")}));case 15:c.next=22;break;case 17:return c.prev=17,c.t0=c.catch(3),console.error("workerDeviceAdd",c.t0),c.next=22,Object(l.c)(v({severity:"error",message:T("common")("message.unknown"),lifeTime:3e3}));case 22:return c.next=24,Object(l.c)(x(!1));case 24:case"end":return c.stop()}}),Ne,null,[[3,17]])}function Re(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.f)(Ae,Pe);case 2:case"end":return e.stop()}}),Fe)}function Ue(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.f)(Ie,Ge);case 2:case"end":return e.stop()}}),He)}function $e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([Re(),Ue()]);case 2:case"end":return e.stop()}}),qe)}var ze={isLoading:!1,messages:[]},We=n(97);function Ve(){var e={user:null},t=localStorage.getItem("token")||null;if(t){var n=Object(We.a)(t).exp;if(Math.floor(Date.now()/1e3)>n)return localStorage.removeItem("token"),Object(j.a)(Object(j.a)({},e),{},{token:null})}return Object(j.a)(Object(j.a)({},e),{},{token:t})}var Je={list:[]},Qe=i.a.mark(Ke),Ze=Object(u.a)();function Ke(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([$(),ye(),$e()]);case 2:case"end":return e.stop()}}),Qe)}var Xe=Object(d.applyMiddleware)(Ze),Ye=Object(d.createStore)(Object(d.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.payload});case p:return Object(j.a)(Object(j.a)({},e),{},{messages:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(j.a)(Object(j.a)({},e),{},{user:t.payload.user,token:t.payload.token});case X:return Object(j.a)(Object(j.a)({},e),{},{user:null,token:null});default:return e}},device:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(j.a)(Object(j.a)({},e),{},{list:t.payload});default:return e}}}),Xe);Ze.run(Ke);var et=n(269),tt=n(279),nt=n(71),rt=Object(nt.a)(),at=Object(nt.a)({common:{headerHeight:"5.5rem",bottomBorder:"1px solid rgba(0,0,0,0.12)"},typography:{fontFamily:'"Comfortaa", "Arial", sans-serif'},overrides:{MuiCssBaseline:{"@global":{html:{minHeight:"100vh",fontSize:"14px",lineHeight:"1.15"},body:{minHeight:"inherit",fontSize:"1rem",fontWeight:"400",lineHeight:"inherit",backgroundColor:rt.palette.background.default},"#root":{minHeight:"inherit",display:"flex",flexDirection:"column"}}},MuiCardActions:{root:{justifyContent:"flex-end",padding:"16px"}}},props:{MuiButton:{color:"primary",variant:"contained"},MuiFormControl:{fullWidth:!0,variant:"outlined"},MuiTextField:{fullWidth:!0,variant:"outlined"}}}),ct=n(0),st=n(82),ot=n(24);var it=function(){var e=Object(s.d)(ue),t=Object(s.c)(),n=Object(ct.useCallback)((function(){return t({type:Y})}),[]);return Object(ct.useEffect)((function(){var t=setInterval((function(){var t=Object(We.a)(e).exp;Math.floor(Date.now()/1e3)>t-30&&n()}),15e3);return function(){clearTimeout(t)}}),[]),null},ut=n(3);function lt(e){var t=e.children,n=e.component,r=e.condition,a=e.altPath,c=Object(J.a)(e,["children","component","condition","altPath"]);return Object(ut.jsx)(ot.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){var c=e.location;return r?t||Object(ut.jsx)(n,{}):Object(ut.jsx)(ot.a,{to:{pathname:a,state:{from:c}}})}}))}lt.defaultProps={altPath:"/login"};var dt=lt,jt=n(39),bt=Object(jt.a)((function(e){return{container:{"main&":{flexGrow:"1",display:"flex",alignItems:"center"}},header:{textAlign:"center"}}})),ft=n(261),mt=n(65),Ot=n(265),ht=n(47),pt=n(9),xt=Object(jt.a)((function(e){return{cardContent:{"div& > *":{marginBottom:e.spacing(1.5),"&:last-child":{marginBottom:"unset"}}},cardActions:{"div&":{justifyContent:"space-between"}},button:{width:"8em"}}})),vt=n(260),gt=n(166),wt=n(264),kt=n(225),yt=n(165),Ct=n(64),St=n(222);var At=function(e){var t=e.isLoading,n=Object(J.a)(e,["isLoading"]);return t?Object(ut.jsx)(Ct.a,Object(j.a)(Object(j.a)({},n),{},{startIcon:null,endIcon:null,disabled:!0,children:Object(ut.jsx)(St.a,{color:"inherit",size:"1.72em"})})):Object(ut.jsx)(Ct.a,Object(j.a)({},n))};var Tt=function(e){var t=e.fields,n=e.changeField,r=Object(J.a)(e,["fields","changeField"]),a=I("auth"),c=xt();return Object(ut.jsxs)(vt.a,{component:"form",onSubmit:r.onSubmit,children:[r.header,Object(ut.jsxs)(ft.a,{className:c.cardContent,children:[Object(ut.jsx)(gt.a,{name:"email",label:a("email"),value:t.email,onChange:n}),Object(ut.jsx)(gt.a,{type:"password",name:"password",label:a("password"),value:t.password,onChange:n})]}),Object(ut.jsxs)(wt.a,{className:c.cardActions,children:[Object(ut.jsx)(kt.a,{control:Object(ut.jsx)(yt.a,{name:"remember",checked:t.remember,onChange:n}),label:a("rememberMe")}),Object(ut.jsx)(At,{className:c.button,type:"submit",children:a("submit"),disabled:r.disableSubmit,isLoading:r.isLoading})]})]})};var It=function(e){var t=Object(s.d)(w),n=Object(s.c)(),r=Object(ct.useCallback)((function(e){return n(function(e){var t=e.email,n=e.password,r=e.remember;return{type:Q,payload:{email:t,password:n,remember:r}}}(e))}),[]),a=Object(ct.useState)({email:"",password:"",remember:!1}),c=Object(pt.a)(a,2),o=c[0],i=c[1];return Object(ut.jsx)(Tt,{header:e.header,isLoading:t,disableSubmit:function(){var e=o.email,t=o.password;return""===e||""===t}(),fields:o,changeField:function(e){var t=e.target,n=t.name,r=t.value,a=t.checked;i("remember"!==n?function(e){return Object(j.a)(Object(j.a)({},e),{},Object(ht.a)({},n,r))}:function(e){return Object(j.a)(Object(j.a)({},e),{},Object(ht.a)({},n,a))})},onSubmit:function(e){e.preventDefault(),r(o)}})},Et=n(160),Dt=function(e){var t=e.style,n=Object(J.a)(e,["style"]);return Object(ut.jsxs)(Et.a,Object(j.a)(Object(j.a)({viewBox:"0 0 192 192",style:Object(j.a)({},t)},n),{},{children:[Object(ut.jsx)("mask",{id:"mask0",maskUnits:"userSpaceOnUse",x:"20",y:"20",width:"152",height:"152",children:Object(ut.jsx)("rect",{x:"20",y:"20",width:"152",height:"152",rx:"38",fill:"#C4C4C4"})}),Object(ut.jsxs)("g",{mask:"url(#mask0)",children:[Object(ut.jsx)("rect",{x:"20",y:"20",width:"152",height:"152",rx:"38",fill:"#FFC107"}),Object(ut.jsx)("g",{filter:"url(#filter0_d)",children:Object(ut.jsx)("path",{d:"M96 48C120.301 48 140 67.6995 140 92V171.529C138.046 171.839 136.042 172 134 172H58C55.9584 172 53.9544 171.839 52 171.529V92C52 67.6995 71.6995 48 96 48Z",fill:"#FFD761"})}),Object(ut.jsx)("circle",{cx:"72",cy:"96",r:"6",fill:"#B28704"}),Object(ut.jsx)("circle",{cx:"118",cy:"96",r:"6",fill:"#B28704"}),Object(ut.jsx)("path",{d:"M116 110C116 108.343 114.657 107 113 107H79C77.3431 107 76 108.343 76 110C76 121.046 84.9543 130 96 130C107.046 130 116 121.046 116 110Z",fill:"white"})]}),Object(ut.jsx)("defs",{children:Object(ut.jsxs)("filter",{id:"filter0_d",x:"44",y:"40",width:"104",height:"140",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(ut.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(ut.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(ut.jsx)("feOffset",{}),Object(ut.jsx)("feGaussianBlur",{stdDeviation:"4"}),Object(ut.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.698039 0 0 0 0 0.529412 0 0 0 0 0.0156863 0 0 0 1 0"}),Object(ut.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(ut.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}))};var Lt=function(){var e=bt(),t=Object(ut.jsxs)(ft.a,{className:e.header,children:[Object(ut.jsx)(Dt,{style:{fontSize:"20em"}}),Object(ut.jsx)(mt.a,{variant:"h3",children:"SmileApp"})]});return Object(ut.jsx)(Ot.a,{className:e.container,component:"main",maxWidth:"xs",children:Object(ut.jsx)(It,{header:t})})};var Mt=function(e){e.langPack;var t=Object(J.a)(e,["langPack"]),n=I("home");return Object(ut.jsxs)("main",{children:[Object(ut.jsx)("div",{children:n("welcome")}),Object(ut.jsx)(Ct.a,{onClick:t.singOut,children:"SignOut"})]})};var _t=function(){var e=Object(s.c)(),t=Object(ct.useCallback)((function(){return e({type:Z})}),[]);return Object(ut.jsx)(Mt,{singOut:t})};var Nt=function(){return Object(ut.jsx)("main",{children:" NoMatch "})},Ft=n(274),Ht=n(275),qt=n(226),Bt=n(153),Pt=n(108),Gt=n.n(Pt),Rt=Gt()((function(e){return{content:{minWidth:"25rem",minHeight:"5rem"}}})),Ut=n(282),$t=n(271),zt=n(272),Wt=n(273);var Vt=function(e){var t=I("common"),n=Rt();return Object(ut.jsxs)(Ut.a,{open:e.open,onClose:e.onClose,children:[Object(ut.jsx)($t.a,{children:e.title}),Object(ut.jsx)(zt.a,{className:n.content,children:e.content}),Object(ut.jsxs)(Wt.a,{children:[!e.hideAgree&&Object(ut.jsx)(Ct.a,{color:"primary",onClick:e.onAgree,children:e.labelAgree||t("yes"),disabled:e.disabledAgree}),!e.hideCancel&&Object(ut.jsx)(Ct.a,{color:"default",onClick:e.onClose,children:e.labelCancel||t("no")})]})]})};function Jt(e){var t=function(){e.onCancel()};return Object(ut.jsx)(Vt,{open:e.isOpen,title:e.title,content:e.children,labelAgree:e.labelAgree,labelCancel:e.labelCancel,hideAgree:e.hideAgree,hideCancel:e.hideCancel,onAgree:function(){e.onAgree(),t()},onClose:t,disabledAgree:e.disabledAgree})}var Qt=Jt;Jt.defaultProps={isOpen:!1,onAgree:function(){return null},onCancel:function(){return null},disabledAgree:!1};var Zt=function(e){var t=I("devices");return Object(ut.jsxs)(ct.Fragment,{children:[Object(ut.jsx)(Qt,{isOpen:e.isOpen,title:t("addDevice"),labelAgree:t("button.add"),labelCancel:t("button.cancel"),onAgree:e.onAgree,onCancel:e.onCancel,disabledAgree:0===e.value.length,children:Object(ut.jsx)(gt.a,{label:t("deviceName"),value:e.value,onChange:e.onChange})}),Object(ut.jsx)(Ct.a,{variant:"outlined",onClick:e.onShowDialog,children:t("addDevice")})]})};var Kt=function(e){var t=Object(ct.useState)(!1),n=Object(pt.a)(t,2),r=n[0],a=n[1],c=Object(ct.useState)(""),s=Object(pt.a)(c,2),o=s[0],i=s[1];return Object(ut.jsx)(Zt,{isOpen:r,value:o,onAgree:function(){e.onAddDevice(o)},onCancel:function(){a(!1)},onChange:function(e){return i(e.target.value)},onShowDialog:function(){i(""),a(!0)}})};var Xt=function(e){var t=I("devices");return Object(ut.jsx)(Ot.a,{maxWidth:!1,component:"main",style:{marginTop:"16px"},children:Object(ut.jsxs)(Ft.a,{container:!0,children:[Object(ut.jsx)(Ft.a,{item:!0,xs:3,children:"Menu"}),Object(ut.jsx)(Ft.a,{item:!0,xs:9,children:Object(ut.jsxs)(vt.a,{children:[Object(ut.jsx)(Ht.a,{title:t("title")}),Object(ut.jsxs)(ft.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(ut.jsx)(kt.a,{control:Object(ut.jsx)(qt.a,{checked:e.showPin,onChange:e.onSwitch,color:"primary"}),label:t("showPin")}),Object(ut.jsx)(Kt,{onAddDevice:e.onAddDevice})]}),e.rows.length>0&&Object(ut.jsx)(Bt.a,{rows:e.rows,columns:e.columns,autoHeight:!0,pageSize:10,disableSelectionOnClick:!0})]})})]})})};var Yt=[{key:"home",path:"/",exact:!0,component:_t,icon:"dashboard",label:"title"},{key:"devices",path:"/devices",exact:!1,component:function(){var e=I("devices"),t=Object(s.d)(De),n=Object(s.c)(),r=Object(ct.useCallback)((function(){return n({type:Ae})}),[]);Object(ct.useEffect)((function(){return r()}),[]);var a=[{field:"status",headerName:" ",width:64},{field:"name",headerName:e("deviceName"),flex:1},{field:"pin",headerName:e("pin")},{field:"enabled",headerName:e("status")}],c=Object(ct.useCallback)((function(e){n({type:Ie,payload:e})}),[]),o=Object(ct.useState)(!1),i=Object(pt.a)(o,2),u=i[0],l=i[1];return Object(ut.jsx)(Xt,{rows:t||[],columns:a,onAddDevice:c,showPin:u,onSwitch:function(e){l(e.target.checked)}})},icon:"important_devices",label:"title"}];var en=function(){var e=Object(s.d)(ue)||!1;return!1===e?Object(ut.jsx)(Lt,{}):Object(ut.jsxs)(ct.Fragment,{children:[Object(ut.jsxs)(ot.d,{children:[Yt.map((function(t){var n=t.isProtected,r=t.key,a=Object(J.a)(t,["isProtected","key"]);return n?Object(ut.jsx)(dt,Object(j.a)({condition:e},a),r):Object(ut.jsx)(ot.b,Object(j.a)({},a),r)})),Object(ut.jsx)(ot.b,{path:"*",component:Nt})]}),Object(ut.jsx)(it,{})]})},tn=n(276),nn=n(270),rn=n(66),an=n(277),cn=Object(jt.a)((function(e){return{main:{flexGrow:1}}}));var sn=function(e){var t=cn(),n=Object(ot.g)();return Object(ut.jsx)(ct.Fragment,{children:Object(ut.jsx)(tn.a,{color:"default",position:"sticky",children:Object(ut.jsxs)(nn.a,{children:[Object(ut.jsx)("div",{className:t.main,children:"MainHeaderComponent"}),e.pageList.map((function(e){return Object(ut.jsx)(rn.a,{onClick:function(){n.push(e.path)},children:Object(ut.jsx)(an.a,{children:e.icon})},e.key)}))]})})})};var on=function(){return Object(ut.jsx)(sn,{pageList:Yt})};var un=function(){var e=Object(s.d)(ue)||!1,t=Object(s.c)(),n=Object(ct.useCallback)((function(){return t({type:f})}),[]);return Object(ct.useEffect)((function(){return n()}),[]),Object(ut.jsx)(ct.Fragment,{children:Object(ut.jsxs)(st.a,{children:[e&&Object(ut.jsx)(on,{}),Object(ut.jsx)(ct.Suspense,{fallback:Object(ut.jsx)("div",{children:"Loading"}),children:Object(ut.jsx)(en,{})})]})})},ln=Gt()((function(e){return{root:{position:"fixed",bottom:0,width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",userSelect:"none"},message:{margin:"0.5em",boxShadow:e.shadows[6]}}})),dn=n(280),jn=n(278);var bn=function(e){var t=e.message,n=e.onClose,r=I("messenger"),a=ln();return Object(ct.useEffect)((function(){var e=setTimeout((function(){n(t),clearTimeout(e)}),t.lifeTime)}),[t,n]),t?Object(ut.jsxs)(dn.a,{className:a.message,severity:t.severity,onClose:function(){return n(t)},children:[Object(ut.jsx)(jn.a,{children:function(){if(t.title)return t.title;switch(t.severity){case"success":return r("success");case"error":return r("error");case"warning":return r("warning");default:return r("info")}}()}),t.message]}):null};var fn=function(e){var t=ln();return Object(ut.jsx)("div",{className:t.root,children:e.messages.map((function(t){return Object(ut.jsx)(bn,{message:t,onClose:e.onCloseMessage},t.id)}))})};var mn=Object(s.b)((function(e){return{messages:k(e)}}),(function(e){return{onCloseMessage:function(t){return e(function(e){var t=e.id;return{type:h,payload:t}}(t))}}}))((function(e){return Object(ut.jsx)(fn,{messages:e.messages,onCloseMessage:e.onCloseMessage})}));c.a.render(Object(ut.jsx)(s.a,{store:Ye,children:Object(ut.jsxs)(et.a,{theme:at,children:[Object(ut.jsx)(tt.a,{}),Object(ut.jsx)(un,{}),Object(ut.jsx)(mn,{})]})}),document.getElementById("root"))}},[[219,1,2]]]);
//# sourceMappingURL=main.14a407a9.chunk.js.map